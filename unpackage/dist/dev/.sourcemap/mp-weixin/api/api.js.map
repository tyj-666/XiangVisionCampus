{"version":3,"file":"api.js","sources":["api/api.js"],"sourcesContent":["//引入同目录下的http.js文件\r\nimport http from \"./http.js\";\r\n\r\n//调用高校位置渲染地图的数据\r\nexport const getSchoolLoaction=()=>{\r\n\treturn http(\"/schoolLocation?apipost_id=228a0bd77bf002\")\r\n}\r\n\r\n//调用高校详情页的数据\r\nexport const getSchoolDetail=()=>{\r\n\treturn http(\"/schoolDetail?apipost_id=2045cfcb3bf00b\")\r\n}\r\n\r\n//调用高校喜欢排行榜的数据\r\nexport const getSchoolRank=()=>{\r\n\treturn http(\"/schoolRank?apipost_id=230c94457bf002\")\r\n}\r\n\r\n\r\n\r\nexport function askAi(data) {\n  return new Promise((resolve, reject) => {\n    // Add Token to headers\n    const token = uni.getStorageSync('token');\n    const headers = {};\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n\n    // Make the request\n    uni.request({\n      url: 'https://xnlv.lizxx.com/api/tools/ai/ask',\n      method: 'POST',\n      data: data,\n      header: headers,\n      success: (res) => {\n        if(res.statusCode==200){\n        \tif(res.data.code==200){\n        \t\tresolve(res.data)\n        \t}else if(res.data.code==0){\n        \t\tuni.showToast({\n        \t\t\ttitle:res.data.message\n        \t\t})\n        \t\treject(res.data.message)\n        \t}\n        }\n      },\n      fail: (error) => {\n        handleNetworkError(error);\n        reject(error);\n      }\n    });\n  });\n}\r\n"],"names":["http","uni"],"mappings":";;;AAIY,MAAC,oBAAkB,MAAI;AAClC,SAAOA,SAAAA,KAAK,2CAA2C;AACxD;AAGY,MAAC,kBAAgB,MAAI;AAChC,SAAOA,SAAAA,KAAK,yCAAyC;AACtD;AAGY,MAAC,gBAAc,MAAI;AAC9B,SAAOA,SAAAA,KAAK,uCAAuC;AACpD;AAIO,SAAS,MAAM,MAAM;AAC1B,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAEtC,UAAM,QAAQC,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAM,UAAU,CAAA;AAChB,QAAI,OAAO;AACT,cAAQ,gBAAgB,UAAU,KAAK;AAAA,IACxC;AAGDA,kBAAAA,MAAI,QAAQ;AAAA,MACV,KAAK;AAAA,MACL,QAAQ;AAAA,MACR;AAAA,MACA,QAAQ;AAAA,MACR,SAAS,CAAC,QAAQ;AAChB,YAAG,IAAI,cAAY,KAAI;AACtB,cAAG,IAAI,KAAK,QAAM,KAAI;AACrB,oBAAQ,IAAI,IAAI;AAAA,UAChB,WAAQ,IAAI,KAAK,QAAM,GAAE;AACzBA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAM,IAAI,KAAK;AAAA,YAC1B,CAAW;AACD,mBAAO,IAAI,KAAK,OAAO;AAAA,UACvB;AAAA,QACD;AAAA,MACF;AAAA,MACD,MAAM,CAAC,UAAU;AACf,2BAAmB,KAAK;AACxB,eAAO,KAAK;AAAA,MACb;AAAA,IACP,CAAK;AAAA,EACL,CAAG;AACH;;;;;"}