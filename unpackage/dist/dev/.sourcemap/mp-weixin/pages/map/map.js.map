{"version":3,"file":"map.js","sources":["pages/map/map.vue","../../../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFwL21hcC52dWU"],"sourcesContent":["<template>\n\t<view class=\"content\">\n\t\t<!--地图 -->\n\t\t<view>\n\t\t\t<map\n\t\t\t\tstyle=\"width: 100%; height: 100vh\"\n\t\t\t\tid=\"map\"\n\t\t\t\tscale=\"9\"\n\t\t\t\tlayer-style=\"1\"\n\t\t\t\t:markers=\"schoolLocation\"\n\t\t\t\tlongitude=\"112.952856\"\n\t\t\t\tlatitude=\"27.644106\"\n\t\t\t\t@markertap=\"goSchoolDetail\"\n\t\t\t></map>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue';\n//引入api目录下的api.js\nimport { getSchoolLoaction } from '../../api/api.js';\n//引入生命周期函数\nimport { onLoad } from '@dcloudio/uni-app';\n\nconst schoolLocation = ref({}); // 获取高校数据\n\n//onLoad方法\nonLoad(() => {\n\t//拿高校位置的数据\n\tgetSchoolLoaction().then((res) => {\n\t\tconsole.log('获取的res：', res); //调试查看\r\n\t\tschoolLocation.value=res.data\r\n\t\t\n\t\tconst newList = res.data.map((item) => ({\n\t\t\tid: Number(item.schoolId), // 确保 id 为数字\n\t\t\twidth:50,\n\t\t\theight: 50,\n\t\t\ticonPath: item.schoolLogo, // 图标路径\n\t\t\tlongitude: Number(item.longitude), // 确保经纬度为数字\n\t\t\tlatitude: Number(item.latitude)\n\t\t}));\n\t\tschoolLocation.value = newList; // 更新响应式数据\n\t\t\n\t\tconsole.log('标点信息：', schoolLocation.value); //调试查看\n\t});\n});\n\n// 点击标点跳转到学校详情页\nconst goSchoolDetail = (event) => {\n\t// console.log();\n\tuni.navigateTo({\n\t\turl: `/pages/schoolDetail/schoolDetail?schoolId=${event.markerId}`\n\t});\n\tconsole.log('点击的标记点 ID:', event.markerId,'跳转到学校详情页面成功');\n};\r\n\n</script>\n\n<style></style>\n","import MiniProgramPage from 'D:/文档和照片/作业/大三下作业/集中实习/XiangVisionCampus/pages/map/map.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","getSchoolLoaction","uni","MiniProgramPage"],"mappings":";;;;;;AAyBA,UAAM,iBAAiBA,cAAAA,IAAI,CAAA,CAAE;AAG7BC,kBAAAA,OAAO,MAAM;AAEZC,gCAAmB,EAAC,KAAK,CAAC,QAAQ;AACjCC,sBAAY,MAAA,MAAA,OAAA,2BAAA,WAAW,GAAG;AAC1B,uBAAe,QAAM,IAAI;AAEzB,cAAM,UAAU,IAAI,KAAK,IAAI,CAAC,UAAU;AAAA,UACvC,IAAI,OAAO,KAAK,QAAQ;AAAA;AAAA,UACxB,OAAM;AAAA,UACN,QAAQ;AAAA,UACR,UAAU,KAAK;AAAA;AAAA,UACf,WAAW,OAAO,KAAK,SAAS;AAAA;AAAA,UAChC,UAAU,OAAO,KAAK,QAAQ;AAAA,QAC9B,EAAC;AACF,uBAAe,QAAQ;AAEvBA,sBAAY,MAAA,MAAA,OAAA,2BAAA,SAAS,eAAe,KAAK;AAAA,MAC3C,CAAE;AAAA,IACF,CAAC;AAGD,UAAM,iBAAiB,CAAC,UAAU;AAEjCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,6CAA6C,MAAM,QAAQ;AAAA,MAClE,CAAE;AACDA,0BAAA,MAAA,OAAA,2BAAY,cAAc,MAAM,UAAS,aAAa;AAAA,IACvD;;;;;;;;;;ACtDA,GAAG,WAAWC,SAAe;"}